# Production Docker Compose overrides
# Copy to infra/.env on the server and fill every secret before running docker compose.

HOST=0.0.0.0
PORT=4000
GATEWAY_HOST=0.0.0.0
GATEWAY_PORT=8080

# Core infrastructure
POSTGRES_URL=postgres://trustfy:<CHANGE_ME>@postgres:5432/trustfy
DATABASE_URL=postgres://trustfy:<CHANGE_ME>@postgres:5432/trustfy
POSTGRES_HOST_PORT=5432
REDIS_URL=redis://redis:6379
NATS_URL=nats://nats:4222
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=<CHANGE_ME>
MINIO_SECRET_KEY=<CHANGE_ME>
MINIO_REGION=us-east-1
MINIO_BUCKET=trustfy-evidence
MINIO_UPLOAD_EXPIRY=900
MINIO_DOWNLOAD_EXPIRY=900
MINIO_ROOT_USER=<CHANGE_ME>
MINIO_ROOT_PASSWORD=<CHANGE_ME>

# Auth + encryption
JWT_ACCESS_SECRET=
JWT_REFRESH_SECRET=
ENCRYPTION_KEY=
NOTIFICATIONS_INTERNAL_TOKEN=
NOTIFICATIONS_URL=http://notifications:4007/notify

# Chain + contracts
PUBLIC_CHAIN_IDS=97
PUBLIC_PRIMARY_CHAIN=97
PUBLIC_ESCROW_CONTRACT=0x954BD1961906C90B65B4AF63539ab1dc6789e25a
CONTRACT_ESCROW_BSC=0x954BD1961906C90B65B4AF63539ab1dc6789e25a
CONTRACT_ESCROW_BSC_TESTNET=0x954BD1961906C90B65B4AF63539ab1dc6789e25a
RPC_URLS_BSC=https://bsc-dataseed1.binance.org
RPC_URLS_BSC_TESTNET=https://data-seed-prebsc-1-s1.binance.org:8545
RPC_URLS=https://data-seed-prebsc-1-s1.binance.org:8545
ESCROW_ADDRESS=0x954BD1961906C90B65B4AF63539ab1dc6789e25a
ESCROW_ABI_VERSION=v4.2

## V4.2 addresses (must be set before prod deploy)
CREDIT_VAULT_ADDRESS=0xDE19f9Ce42580Fe4A9Bb5ebBcbe89D3a5B9fCBF6
AD_BOND_MANAGER_ADDRESS=0xDE19f9Ce42580Fe4A9Bb5ebBcbe89D3a5B9fCBF6

# Access control defaults
ADMIN_WALLETS=0x2E303818319a6359a26AF5eBFc50De01eD06d094
ARBITRATOR_WALLETS=0xE977252A68E714AF1178f5036E488Bf70a51A0De

# External integrations
EMAIL_PROVIDER_API_KEY=
AI_PROVIDER_ENDPOINT=
TRAEFIK_ACME_EMAIL=

# Frontend / client settings
VITE_API_BASE_URL=https://api.trustfy.example
VITE_WS_URL=wss://api.trustfy.example/ws
VITE_WALLETCONNECT_PROJECT_ID=
VITE_BSC_RPC_URL=https://bsc-dataseed1.binance.org
VITE_BSC_TESTNET_RPC_URL=https://data-seed-prebsc-1-s1.binance.org:8545
VITE_PRIMARY_CHAIN=${PUBLIC_PRIMARY_CHAIN}
VITE_RPC_URLS=97:https://data-seed-prebsc-1-s1.binance.org:8545
VITE_CONTRACT_ADDRESS=97:0x954BD1961906C90B65B4AF63539ab1dc6789e25a
VITE_CHAIN_ID=97
VITE_ADMIN_WALLETS=0x2e303818319a6359a26af5ebfc50de01ed06d094
VITE_ARBITRATOR_WALLETS=0xe977252a68e714af1178f5036e488bf70a51a0de
# Optional token registry (used by Admin dropdowns)

# BSC Testnet stablecoins
VITE_TOKEN_USDT=0x337610d27c682E347C9cD60BD4b3b107C9d34dDd
VITE_TOKEN_USDC=0x64544969ed7EBf5f083679233325356EbE738930
VITE_TOKEN_BUSD=0x8301F2213c0eeD49a7E28Ae4c3e91722919B8B47

# Native BNB alias
VITE_TOKEN_NATIVE=NATIVE

# BSC Mainet stablecoins
VITE_TOKEN_USDT_BSC=0x55d398326f99059fF775485246999027B3197955
VITE_TOKEN_USDC_BSC=0x8ac76a51cc950d9822d68b83fe1ad97b32cd580d
VITE_TOKEN_BUSD_BSC=0xe9e7cea3dedca5984780bafc599bd69add087d56

PUBLIC_IPFS_GATEWAYS=https://trustfy.mypinata.cloud,https://ipfs.io
PUBLIC_FEATURE_FLAGS=prime:true,insurance:false,dao:false

# BSC Testnet stablecoins
VITE_TOKEN_USDT_BSC_TESTNET=0x337610d27c682E347C9cD60BD4b3b107C9d34dDd
VITE_TOKEN_USDC_BSC_TESTNET=0x64544969ed7EBf5f083679233325356EbE738930
VITE_TOKEN_BUSD_BSC_TESTNET=0x8301F2213c0eeD49a7E28Ae4c3e91722919B8B47


MINIO_ACCESS_KEY=trustfy
MINIO_SECRET_KEY=trustfysecret
MINIO_REGION=us-east-1
MINIO_BUCKET=trustfy-evidence
MINIO_UPLOAD_EXPIRY=900
MINIO_DOWNLOAD_EXPIRY=900
MINIO_ROOT_USER=trustfy
MINIO_ROOT_PASSWORD=trustfysecret

RPC_URLS=https://data-seed-prebsc-1-s1.binance.org:8545

NOTIFICATIONS_URL=http://localhost:4007
NOTIFICATIONS_INTERNAL_TOKEN=dev-notifications-secret-please-change

VITE_WS_URL=ws://localhost:4007
NOTIFICATIONS_URL=http://localhost:4007
NOTIFICATIONS_URL=http://notifications:4007/notify
NOTIFICATIONS_INTERNAL_TOKEN=6ab602aaaf311f26ab1b5eb0bacfcc5cab0ceeeaf83c76e9d5af85e42e478eba
